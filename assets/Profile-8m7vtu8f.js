import{_ as i,K as n,c as l,d as t,n as o,t as m,h as d,F as c,e as h,o as u}from"./index-3X6NywY1.js";const f={data:()=>({name:"",nameError:""}),mounted(){this.name=this.$store.getters.user.name},methods:{changeNameHandler(e){this.name=e.target.value,this.validateName()},validateName(){this.name?this.nameError="":this.nameError="Name is require"},submitHandler(){this.validateName(),!this.nameError&&n(this.$store.getters.user.id,this.name).then(e=>{typeof e.data=="string"?this.$store.commit("setError",e.data):(localStorage.setItem("currentUser",JSON.stringify(e.data)),this.$store.commit("setUser",e.data))}).catch(e=>{}).finally(()=>{setTimeout(()=>{this.$store.commit("clearError")},3e3)})}}},p=t("h2",{class:"is-size-2 mb-2"},"Profile",-1),_=t("div",{class:"hr"},null,-1),g={class:"field"},N=t("label",{class:"label"},"Name",-1),v={class:"control"},b=["value"],E={class:"help has-text-danger err-height"},y=t("div",{class:"control mt-4"},[t("button",{class:"button is-success"},[h(" Refresh Â  "),t("i",{class:"fa fa-paper-plane"})])],-1);function H(e,a,x,B,S,s){return u(),l(c,null,[p,_,t("form",{class:"edit-profile mt-4 px-3 py-3",onSubmit:a[2]||(a[2]=d((...r)=>s.submitHandler&&s.submitHandler(...r),["prevent"]))},[t("div",g,[N,t("div",v,[t("input",{class:o(["input is-primary",{"is-danger":!!e.nameError}]),type:"text",placeholder:"Name...",value:e.name,onInput:a[0]||(a[0]=(...r)=>s.changeNameHandler&&s.changeNameHandler(...r)),onBlur:a[1]||(a[1]=(...r)=>s.validateName&&s.validateName(...r))},null,42,b)]),t("p",E,m(e.nameError),1)]),y],32)],64)}const P=i(f,[["render",H]]);export{P as default};
